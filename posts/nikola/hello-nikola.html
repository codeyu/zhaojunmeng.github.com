<!DOCTYPE html><html lang="zh_cn"><head><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta name="description" content=""><meta name="author" content="孟昭俊"><title>在GitHub上面自建博客之：Nikola | 优格猫</title><!-- Start of Tencent Analysis --><script type="text/javascript">var _speedMark = new Date();</script><script type="text/javascript" src="http://tajs.qq.com/stats?sId=21966670" charset="UTF-8"></script><!-- End of Tencent Analysis --><!-- Le styles --><link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="../../assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"><link href="../../assets/css/rst.css" rel="stylesheet" type="text/css"><link href="../../assets/css/code.css" rel="stylesheet" type="text/css"><link href="../../assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="../../assets/css/slides.css" rel="stylesheet" type="text/css"><link href="../../assets/css/theme.css" rel="stylesheet" type="text/css"><!-- Le HTML5 shim, for IE6-8 support of HTML5 elements --><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS (zh_cn)" href="../../rss.xml"><link rel="icon" href="../../icon_128x128.png" sizes="128x128"><link rel="icon" href="../../favicon.ico" sizes="16x16"></head><body>
<!-- Menubar -->
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </a>        
        
            <a class="brand" href="../../">
            优格猫
            </a>
            <!-- Everything you want hidden at 940px or less, place within here -->
            <div class="nav-collapse collapse">
                <ul class="nav"><li><a href="../../archive.html">文章归档</a>
            </li><li><a href="../../categories/index.html">文章分类</a>
            </li><li><a href="../../galleries/jiafeimao2012/index.html">加菲猫的画</a>
            </li><li><a href="../../stories/about-authors.html">作者们</a>

                </li></ul><ul class="nav pull-right"><li>
    <a href="hello-nikola.md" id="sourcelink">源代码</a>
    </li>

                </ul></div>
        </div>
    </div>
</div>
<!-- End of Menubar -->
<div class="container-fluid" id="container-fluid">
    <!--Body content-->
    <div class="row-fluid">
    <div class="span2"></div>
    <div class="span8">
    
    <div class="postbox">
    
    <h1>在GitHub上面自建博客之：Nikola</h1>

    <hr><small>
        发表于: <time class="published" datetime="2013-03-18T20:20:00">2013-03-18 20:20</time>
        

        
          |  更多相关文章：
            <a class="tag" href="../../categories/github-pages.html"><span class="badge badge-info">Github Pages</span></a>
            <a class="tag" href="../../categories/nikola.html"><span class="badge badge-info">Nikola</span></a>
            <a class="tag" href="../../categories/python.html"><span class="badge badge-info">Python</span></a>
            <a class="tag" href="../../categories/blog.html"><span class="badge badge-info">blog</span></a>
            <a class="tag" href="../../categories/static-site.html"><span class="badge badge-info">static site</span></a>
            <a class="tag" href="../../categories/bo-ke.html"><span class="badge badge-info">博客</span></a>

    </small>
    <hr><p>最近不少程序员的博客搬家到了GitHub，原因差不多有两个：</p>
<ul><li>GitHub上面写程序相关的内容，再自然不过了</li>
<li>不限流量，且还有300M的空间（其实就是GitHub上面免费用户的版本库大小限制）</li>
</ul><h3>GitHub Pages服务：</h3>
<p>已经有不少文章讲如何在GitHub上面建博客，其实这些都是使用了GitHub的Pages服务。</p>
<p>简单来说，Pages服务，允许用户通过创建特殊的版本库（针对用户），或创建版本库的特殊分支（针对项目），在GitHub上面建立静态页面。将静态页面上传到版本库后（就是上传HTML, JS, CSS等），就可以通过username.github.com（用户）或projectname.github.com（项目）来访问用户或者项目的页面了。</p>
<p>有了GitHub Pages服务，只要再配合静态页面生成工具，就能制作博客、网站了。</p>
<p>GitHub官方提供了工具Jekyll，允许用户用轻量级标记语言（比如Markdown）来写文章，然后生成博客页面。同类的工具还有Octopress。</p>
<p>但本文介绍的不是上面两个工具，而是一个名叫Nikola的静态页面、博客生成工具。</p>
<h3>Nikola是啥？</h3>
<p>Jekyll和Octopress都是Ruby写的，在决定选择哪个博客生成工具的时候，正好在学Python，于是就打算找一个Python写的博客生成工具来用~</p>
<p>Github上面搜索了一下，排在前面的Python博客生成系统，有Pelican，Nikola。</p>
<p>Nikola在介绍的时候说到了自己Fast，为了这个关键词，我决定一试！（虽然我没有跟其他工具比较过_(:з」∠)_）</p>
<p>PS:为啥没选择Pelican，Pelican在生成页面的时候，使用了make脚本，在Windows上面用make的话，需要MinGW，我这个典型Windows用户就放弃了（虽然我电脑上面有MinGW_(:з」∠)_）。</p>
<h3>Nikola安装篇</h3>
<p>官方文档中的安装，简单的归纳，实际上就是<a href="http://nikola.ralsina.com.ar/handbook.html#installing-nikola" target="_blank">一句话</a>：</p>
<div class="code"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/ralsina/nikola/archive/master.zip</span>
</pre></div>


<p>当然了，这里也可以使用其他的Python包安装工具，比如我用的是 easy_install</p>
<h4>安装篇之Windows篇</h4>
<p>不过，在Windows上安装Nikola，有些额外的工作要做：</p>
<ul><li>
<h5>lxml</h5>
<p>Nikola的requirements：lxml</p>
<p>这个在安装的时候，是需要用代码编译的，但是在Windows上面，却编译不通过，解决办法是去下载一个Windows版本的安装包装上，就ok了，我选的是lxml-2.3.win32-py2.7.exe：</p>
<p><a href="http://pypi.python.org/simple/lxml/" target="_blank">http://pypi.python.org/simple/lxml/</a></p>
</li>
<li>
<h5>环境变量</h5>
<p>当试图运行<code>nikola init</code>命令时，如果遇到下面的错误：</p>
<p><code>'nikola' 不是内部或外部命令，也不是可运行的程序或批处理文件。</code></p>
<p>是<code>C:\Python27\Scripts\</code>未添加到环境变量PATH中，<code>C:\Python27</code>是我的Python安装目录。（实际上在使用Python的包安装工具的时候，应该已经将该路劲添加到环境变量中了~）</p>
</li>
</ul><h3>使用篇</h3>
<p>安装完成，赶快来一发吧骚年：</p>
<p>下面简单翻译自<a href="http://nikola.ralsina.com.ar/handbook.html#all-you-need-to-know" target="_blank">Nikola文档</a></p>
<ul><li>
<h5>新建一个空网站:</h5>
<div class="code"><pre><span class="n">nikola</span> <span class="n">init</span> <span class="n">mysite</span>
</pre></div>


<p>要新建个包含demo文件的Nikola demo网站的话，使用:</p>
<div class="code"><pre><span class="n">nikola</span> <span class="n">init</span> <span class="n">mysite</span> <span class="o">--</span><span class="n">demo</span>
</pre></div>


</li>
</ul><h5>剩下的命令要在Nikola新建的网站文件夹中执行，比如刚才的mysite文件夹（cd mysite）</h5>
<ul><li>
<h5>新建一篇文章:</h5>
<div class="code"><pre><span class="n">nikola</span> <span class="n">new_post</span>
</pre></div>


<p>执行<code>new_post</code>命令之后，会提示你填写文章名等信息来完成创建。
创建完成后，找到刚才新建的文件，就可以对文章进行编辑啦。</p>
</li>
<li>
<h5>编辑完成后，构建你的网站吧:</h5>
<div class="code"><pre><span class="n">nikola</span> <span class="n">build</span>
</pre></div>


</li>
<li>
<h5>启动个local server:</h5>
<div class="code"><pre><span class="n">nikola</span> <span class="n">serve</span>
</pre></div>


</li>
<li>
<h5>使用下面的地址来预览:</h5>
<div class="code"><pre><span class="nl">http:</span><span class="c1">//127.0.0.1:8000</span>
</pre></div>


</li>
</ul><p>哪，一个最简单的静态博客新鲜出炉了！</p>
<h3>部署到Github Pages上！</h3>
<p>最后，只要把mysite下面的output文件夹，push到GitHub上面即可（<a href="http://pages.github.com/" target="_blank">详见GitHub Pages文档</a>）。</p>
<p>创建用户页面需要的版本库时，遇到了个问题：</p>
<p>一开始以为，创建一个和自己username同名的版本库，然后push文件，再访问username.github.com即可。</p>
<p>但是即使文件正确上传，却总是看到404页面。</p>
<p>后来看到了别人的版本库，发现原来版本库的名字要叫username.github.com！而不是单纯的username！</p>
<p>比如我的id是zhaojunmeng，那新建一个zhaojunmeng的版本库是不行的，必须是<a href="zhaojunmeng.github.com" target="_blank">zhaojunmeng.github.com</a>这个版本库。</p>
<p>上传成功之后，只要等等去刷新下页面就好啦。官方说是10分钟，不过现在看来，貌似不用10分钟就可以看到页面啦！</p>
<h3>Why Static</h3>
<p>折腾了这么半天，为啥要建一个静态的博客呢？</p>
<p>Nikola的文档<a href="http://nikola.ralsina.com.ar/handbook.html#why-static" target="_blank">Why Static</a>说了很多，我这里就大概说一下。</p>
<p>所谓动态网站，指的是网站的内容存放在后台数据库中，当用户访问网页的时候，后台程序根据数据动态地生成HTML页面返回给用户。</p>
<p>静态网站呢，整个站点的每一个页面，每一个文件，在用户访问之前就已经存在在了服务器上面。</p>
<p>相比动态网站，静态网站的优点有：</p>
<ul><li>
<h5>低开销，高性能</h5>
<p>动态网站处理每一次用户访问，都伴随着数据库查询、数据处理来生成HTML，这就消耗了服务器的CPU和内存。</p>
<p>而静态网站只依靠HTTP server，开销自然低很多。（对于云计算平台来说，省下了开销就省了钱）</p>
</li>
<li>
<h5>依赖工具少，省心</h5>
<p>使用动态网站，比如WordPress建的博客，你可能就需要经常WordPress版本；或者host提供者升级了支持的php或者Python版本，你也需要做些升级工作。</p>
<p>而静态网站，生成的都是最终的HTML页面，假设静态网站生成工具升级，比如Nikola，你不升级，也不影响对现在任何功能的使用。</p>
</li>
<li>
<h5>方便搬家</h5>
<p>静态网站的搬家，无需经历数据的导出/导入的过程，只要将页面上传到一个新的host上面即可工作。（比如可以从GitHub Pages服务，转移到BitBucket Pages服务上面）</p>
</li>
<li>
<h5>更安全</h5>
<p>都是静态的HTML，也不写什么数据库，没有依赖的后台软件，都让静态网站更安全了。</p>
</li>
</ul><p>看了上面，可能有人会想：静态网站会不会功能少啊？</p>
<p>其实……不会。</p>
<p>通过在HTML代码中，引入一些第三方的js文件，静态网站同样可以内嵌评论、分享等组件，只是数据不是存在你的网站，而是存在第三方的后台中。</p>
<h3>然后呢？——未完待续</h3>
<p>上面只是介绍了静态网站、GitHub Pages、如何开始使用Nikola等，并没有覆盖Nikola的特性。</p>
<p>比如，Nikola使用了Bootstrap，可以更换主题等，全部的特性请查看：<a href="http://nikola.ralsina.com.ar/handbook.html#features" target="_blank">http://nikola.ralsina.com.ar/handbook.html#features</a></p>
<p>后面会逐步介绍，在Nikola中定制自己博客的技巧，比如分享啊，评论啊，二维码啊，标签云啊等等等等，敬请期待_(:з」∠)_</p>
    
    <ul class="pager"><li class="previous">
            <a href="../hello-world.html">← 前一篇</a>
        </li><li class="next">
            <a href="../cef/hello-cef.html">后一篇 →</a>
    </li></ul><!-- Baidu Button BEGIN --><style>
    .bdlikebutton{
        margin:0 auto;
    }
    </style><div class="bdlikebutton"></div>
    <div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
    <a class="bds_tsina"></a>
    <a class="bds_qzone"></a>
    <a class="bds_tqq"></a>
    <a class="bds_tqf"></a>
    <a class="bds_renren"></a>
    <a class="bds_douban"></a>
    <a class="bds_fbook"></a>
    <a class="bds_twi"></a>
    <a class="bds_linkedin"></a>
    <a class="bds_mail"></a>
    <a class="bds_mshare"></a>
    <span class="bds_more"></span>
    <a class="shareCount"></a>
    </div>
    <!-- Baidu Button END -->
    <!-- Duoshuo Comment BEGIN -->
    <div class="ds-thread" data-title="在GitHub上面自建博客之：Nikola" data-thread-key="cache\posts\nikola\hello-nikola.html" data-author-key="zhaojunmeng"></div>
    <!-- Duoshuo Comment END -->

    

    </div>

    </div>
    
    <div class="span2">
    <img src="../../icon_128x128.png"><!--Duoshuo Top Comment--><div>
    <h5>热门评论</h5>
    <ul class="ds-top-threads" data-range="monthly" data-num-items="10"></ul></div>
    <!--End of Duoshuo Top Comment-->
    <!--Duoshuo Recent Comment-->
    <div>
    <h5>最新评论</h5>
    <ul class="ds-recent-comments" data-num-items="10"></ul></div>
    <!--End Duoshuo Recent Comment-->
    <!--qrcode-->
    <div>
    <h5></h5><p>本页二维码链接</p>
    <p>扫一扫，移动着看！</p>
    <div id="qrcodeCanvas"></div>
    </div>
    <!--End of qrcode-->
    <!--Cloud Tags-->
    <div id="myCanvasContainer">
      <h5>标签云：</h5>
      <canvas width="200" height="200" id="myCanvas"><p>Anything in here will be replaced on browsers that support the canvas element</p>
      </canvas></div>
    <!--End of Cloud Tags-->
    </div>

    </div> 
    <!--End of body content-->
</div>
<div class="footerbox">
    Contents © 2013 <a href="mailto:zhaojun.meng@gmail.com">孟昭俊</a> - Powered by <a href="http://nikola.ralsina.com.ar">Nikola</a>
</div>



<!-- Start of Google Analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38185127-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><!-- End of Google Analytics --><!-- Baidu Button BEGIN --><script type="text/javascript" id="bdshare_js" data="type=slide&amp;img=0&amp;pos=right&amp;uid=6600665"></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000);
</script><script id="bdlike_shell"></script><script>
var bdShare_config = {
    "type":"large",
    "color":"blue",
    "uid":"6600665",
    "likeText":"赞一个试试看",
    "likedText":"已顶_(:з」∠)_"
};
document.getElementById("bdlike_shell").src="http://bdimg.share.baidu.com/static/js/like_shell.js?t=" + Math.ceil(new Date()/3600000);
</script><script id="bdimgshare_shell"></script><script>
var bdShare_config_imgshare = {
    "type":"list"
    ,"size":"big"
    ,"pos":"bottom"
    ,"color":"black"
    ,"list":["qzone","tsina","tqq","tqf","renren","douban","fbook","twi","linkedin","mail","mshare"]
    ,"uid":"6600665"
};
document.getElementById("bdimgshare_shell").src="http://bdimg.share.baidu.com/static/js/imgshare_shell.js?cdnversion=" + Math.ceil(new Date()/3600000);
</script><!-- Baidu Button END --><!-- Duoshuo Comment BEGIN --><script type="text/javascript">
    var duoshuoQuery = {short_name:"zhaojunmeng"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = 'http://static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script><!-- Duoshuo Comment END --><script src="../../assets/js/jquery-1.7.2.min.js" type="text/javascript"></script><script src="../../assets/js/bootstrap.min.js" type="text/javascript"></script><script src="../../assets/js/jquery.colorbox-min.js" type="text/javascript"></script><script src="../../assets/js/slides.min.jquery.js" type="text/javascript"></script><!--qrcode, have not consider use cdn yet--><script src="../../assets/js/jquery.qrcode.min.js" type="text/javascript"></script><script>
        jQuery('#qrcodeCanvas').qrcode({
            width: 128,
            height: 128,
            text    : window.location.href
        }); 
    </script><!--End of qrcode--><!-- Cloud Tags--><script src="../../assets/js/jquery.tagcanvas.min.js" type="text/javascript"></script><script type="text/javascript">
      $(document).ready(function() {
        jQuery.getJSON('/assets/js/tag_cloud_data.json', function(data) {
            var items = [];

            $.each(data, function(key, val) {
                items.push('<li><a href="' + val[1] +'" '+'data-weight="'+val[0]+'"'+'>' + key + '</a></li>');
            });

            $('<div/>', {
                'id': 'tags',
                html: '<ul>' + items.join('') + '</ul>'
            }).appendTo('body');
            if(!$('#myCanvas').tagcanvas({
                textColour: null,
                reverse: true,
                textHeight: 25,
                weight: true,
                weightMode: "both",
            },'tags')) {
            // something went wrong, hide the canvas container
            $('#myCanvasContainer').hide();
            }});});
    </script><!-- End of Cloud Tags--><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"80%",maxHeight:"80%",scalePhotos:true});</script></body></html>